function accountController(a,b,c,d){a.confirmation="",a.showConfirmation=!1,a.version=soleinsider.version,a.version_type=soleinsider.version_type,a.updateAccount=function(b){var e="member_id="+soleinsider.member_id;e+="&username="+b.email,e+="&phone="+b.phone_number,e+="&carrier="+b.carrier,c.updateAccount(e).then(function(){$().toastmessage("showSuccessToast","Your account has been updated"),a.confirmation="Your account has been updated",a.showConfirmation=!0,d.trackEvent("Account Updated")},function(a){window.console.log(a)})},a.getAccount=function(){var b="member_id="+soleinsider.member_id;c.getAccount(b).then(function(b){a.account=b},function(a){window.console.log(a)})},a.clearCache=function(){member_id=localStorage.getItem("member_id"),username=localStorage.getItem("username"),$().toastmessage("showSuccessToast","Cache has been cleared"),a.confirmation="Cache has been cleared",a.showConfirmation=!0,localStorage.clear(),localStorage.setItem("member_id",member_id),localStorage.setItem("username",username),d.trackEvent("Cache Cleared")},a.init=function(){d.trackEvent("Account page loaded"),a.getAccount(),a.showConfirmation=!1,b.$emit("featured",!1)}()}function appController(a,b,c,d){a.message="",a.showads=soleinsider.showads,a.show_featured=soleinsider.show_featured,a.buyProduct=function(a){window.open(a.clickUrl,"_blank","location=yes"),d.trackEvent("Featured product click")},a.getFeaturedProducts=function(){c.getFeaturedProducts().then(function(b){a.featured=b})},a.getMessages=function(){c.getMessages().then(function(b){if(b.length>0){var c=Math.floor(Math.random()*b.length);a.message=b[c].message}})},a.init=function(){a.getFeaturedProducts(),a.getMessages(),b.$on("featured",function(b,c){a.show_featured=c})}()}function availController(a,b,c,d,e){a.products=[],a.getStillAvail=function(){a.products=d.request("getStillAvail"),e.trackEvent("Available products fetched")},a.buyProduct=function(a){window.open(a.link,"_blank","location=yes"),e.trackEvent("Available product click")},a.init=function(){a.getStillAvail(),b.$on("getStillAvail",function(b,c){a.products=c}),b.$emit("featured",!0)}()}function clothingStoreController(a,b,c,d){function e(a,b){return a.name==b.name?0:a.name>b.name?1:-1}a.app_name=app_name,a.page_title=page_title,a.products=[],a.category="Best Sellers",a.page=10,a.searchStr="nike",a.buyProduct=function(a){window.open(a.clickUrl,"_blank","location=yes"),d.trackEvent("Clothing store product buy click")},a.getMenu=function(){c.getMenu().then(function(b){b.sort(e),a.menu=b},function(a){window.console.log(a)})},a.getDefaultItems=function(){c.getDefaultItems().then(function(b){a.products=b,a.showLoading=!1,d.trackEvent("Get default clothing store items")},function(a){window.console.log(a)})},a.getCache=function(b){var c=localStorage.getItem(b);return"string"==typeof c||void 0==typeof c?(a.showLoading=!1,JSON.parse(c)):!1},a.setCache=function(a,b){localStorage.setItem(a,JSON.stringify(b))},a.search=function(b){a.showLoading=!0,a.page=10,a.searchStr=b,a.category=a.searchStr.replace("_"," ");var c=a.getCache(b);c!==!1?(a.products=c,$("#content-container").toggleClass("active"),$("#sidemenu").toggleClass("active"),setTimeout(function(){$("#sidemenu-container").toggleClass("active")},500),a.showLoading=!1):a.completeSearch(b)},a.completeSearch=function(b){$("#content-container").toggleClass("active"),$("#sidemenu").toggleClass("active"),setTimeout(function(){$("#sidemenu-container").toggleClass("active")},500),c.search(b).then(function(c){a.products=c,a.setCache(b,c),a.showLoading=!1,d.trackEvent("Get new clothing store products from menu")},function(a){window.console.log(a)})},a.paginate=function(){$("html, body").animate({scrollTop:0},10),a.showLoading=!0,a.page=a.page+20;var b="search="+a.searchStr;b+="&offset="+a.page,c.paginate(b).then(function(b){a.products=b,a.showLoading=!1,d.trackEvent("Clothing store pagination")},function(a){window.console.log(a)})},a.init=function(){a.getMenu(),a.getDefaultItems(),b.$emit("featured",!0)}()}function couponsController(a,b,c,d){a.getCoupons=function(){a.coupons=c.request("getCoupons")},a.init=function(){a.getCoupons(),b.$on("getCoupons",function(b,c){a.coupons=c,a.showLoading=!1,d.trackEvent("Coupons fetched")}),b.$emit("featured",!1)}()}function detailsController(a,b,c,d,e,f,g){a.comments=[],a.slideshow=[],a.related=[],a.buyEbayProduct=function(a){window.open(a,"_blank","location=yes"),g.trackEvent("Ebay product purchase click")},a.showComments=function(){a.commentDisplay=!0,a.relatedDisplay=!1,g.trackEvent("Show comment click")},a.showRelatedItems=function(){a.commentDisplay=!1,a.relatedDisplay=!0,g.trackEvent("Show related items click")},a.getRelatedItems=function(b){var c;c=b.description.length>2?b.description:b.name,f.getRelatedItems(c,b.id).then(function(b){a.related=b},function(a){window.console.log(a)})},a.loadProduct=function(){a.showRelatedItems(),product=JSON.parse(localStorage.getItem("product_details")),product.showBuyLink=!1,product.link.length>2&&(product.showBuyLink=!0),a.r=product,a.product_id=product.product_id,a.getRelatedItems(product)},a.getSlideShow=function(){var b="&product_id="+a.product_id;f.getSlideShow(b).then(function(b){a.slideshow=b},function(a){window.console.log(a)})},a.addReminder=function(b){return member_id=localStorage.getItem("member_id"),"false"==member_id||0==member_id||null==member_id?(a.showerror=!0,void(a.errorMessage="You must be logged for reminders")):void f.addReminder(b,member_id).then(function(){a.showmsg=!0,a.showerror=!1,a.sneakerName=b.name,$().toastmessage("showSuccessToast","Reminder saved for "+b.name),g.trackEvent("Reminder Added for "+b.name)},function(a){alert(a)})},a.sneakerRating=function(a,b){var c=localStorage.getItem("member_id");"yes"==b&&parseInt(a.yes_percentage)<98&&(a.yes_percentage=parseInt(a.yes_percentage)+parseInt(3.2)),"no"==b&&parseInt(a.no_percentage)<98&&(a.no_percentage=parseInt(a.no_percentage)+parseInt(3.2));var d="member_id="+c;d+="&product_id="+a.id,d+="&status="+b,f.sneakerRating(d).then(function(){},function(a){window.console.log(a)})},a.getComments=function(){var b="&product_id="+a.product_id;e.getComments(b).then(function(b){a.formatComments(b)},function(a){window.console.log(a)})},a.formatComments=function(b){for(var c=0;c<b.length;c++){var d=moment.utc(b[c].comment_date,"MM-DD-YYYY h:mm:ss");b[c].comment_date=moment(d,"MM-DD-YYYY h:mm:ss").fromNow()}a.comments=b},a.share=function(a){return g.trackEvent("Sneaker shared "+a.name),window.plugins.socialsharing.share("#SoleInsider "+a.name,a.name,"http://soleinsider.com/public/products/"+a.image,null)},a.addToCalender=function(a){var b,c,d=a.name,e="SoleInsider",f=a.release_date_calendar;b=new Date(f),c=new Date(f);var h=a.name+" Releasing "+b,i=function(){},j=function(){};window.plugins.calendar.createEventInteractively(d,e,h,b,c,i,j),g.trackEvent("Sneaker added to calendar "+a.name)},a.submitComment=function(){var b=localStorage.getItem("member_id"),c="member_id="+b;c+="&product_id="+a.product_id,c+="&comment="+a.new_comment,e.leaveComment(c).then(function(){$().toastmessage("showSuccessToast","Comment saved!"),a.getComments(),a.new_comment="",g.trackEvent("Comment submited")},function(a){window.console.log(a)})},a.init=function(){b.$emit("featured",!1),a.loadProduct(),a.getSlideShow(),a.getComments()}()}function instagramController(a,b,c,d){a.images=[],a.getImages=function(){c.getImages().then(function(b){a.images=b,d.trackEvent("Instagram feed fetched")},function(a){alert(a)})},a.init=function(){a.getImages(),b.$emit("featured",!1)}()}function loginController(a,b,c,d){a.confirmation="",a.showConfirmation=!1,a.showLogin=!0,a.toggleLogin=function(){member_id=localStorage.getItem("member_id"),"false"==member_id||0==member_id||null==member_id?a.showLogin=!0:(a.username=localStorage.getItem("username"),a.showLogin=!1)},a.logout=function(){localStorage.clear(),a.toggleLogin(),d.trackEvent("Logout")},a.login=function(b){var e="&username="+b.username;e+="&password="+b.password,e+="&member_type="+soleinsider.member_type,c.login(e).then(function(c){"false"!==c&&c!==!1&&0!==c.length?(localStorage.setItem("username",b.username),localStorage.setItem("member_id",c.id),a.toggleLogin(),d.trackEvent("Succesful Login")):(a.showConfirmation=!0,a.confirmation="Incorrect username or password",d.trackEvent("Incorrect Login"))},function(){})},a.validateEmail=function(a){var b=/\S+@\S+\.\S+/;return b.test(a)},a.validateAccount=function(b){return 0==b.username.length||0==b.password.length||0==b.phone_number.length||0==a.validateEmail(b.username)?!1:!0},a.register=function(b){var e=a.validateAccount(b);if(!e)return $("html, body").animate({scrollTop:0},"slow"),a.showConfirmation=!0,a.confirmation="Incorrect information",void d.trackEvent("Registration Incorrect information Error");var f="&username="+b.username;f+="&password="+b.password,f+="&phone="+b.phone_number,f+="&carrier="+b.carrier,f+="&member_type="+soleinsider.member_type,c.createAccount(f).then(function(c){a.showConfirmation=!0,"false"!==c&&c!==!1&&0!==c.length?(localStorage.setItem("username",b.username),localStorage.setItem("member_id",c),a.confirmation="Your account has been created",a.toggleLogin(),d.trackEvent("Registration Complete")):(a.confirmation="This username is already in use",d.trackEvent("Registration Error, username in use"))},function(a){window.console.log(a)})},a.init=function(){a.toggleLogin(),b.$emit("featured",!1)}()}function myReleasesController(a,b,c,d){a.releases=[],a.showerror=!1,a.errorMessage="",a.getMyReleases=function(){return member_id=localStorage.getItem("member_id"),"false"==member_id||0==member_id||null==member_id?(a.showerror=!0,void(a.errorMessage="You must be logged to view your releases")):void c.getMyReleases()},a.deleteRelease=function(a){c.deleteRelease(a).then(function(){$().toastmessage("showSuccessToast","Reminder deleted for "+a.name)},function(a){alert(a)})},a.init=function(){a.getMyReleases(),b.$on("getMyReleases",function(b,c){a.releases=c,d.trackEvent("My releases fetched")}),b.$on("deleteRelease",function(){a.getMyReleases(),d.trackEvent("My releases item deleted")}),b.$emit("featured",!0)}()}function myRestocksController(a,b,c,d){a.restocks=[],a.getRestocks=function(){return member_id=localStorage.getItem("member_id"),"false"==member_id||0==member_id||null==member_id?(a.showerror=!0,void(a.errorMessage="You must be logged to view your restocks")):void c.getMyRestocks()},a.deleteRestock=function(a){c.deleteRestock(a).then(function(){$().toastmessage("showSuccessToast","You are no longer watching "+a.name)},function(a){alert(a)})},a.init=function(){a.getRestocks(),b.$on("getMyRestocks",function(b,c){a.restocks=c,d.trackEvent("My restocks fetched")}),b.$on("deleteRestock",function(){a.getRestocks(),d.trackEvent("My restocks item deleted")}),b.$emit("featured",!1)}()}function newsController(a,b,c,d,e,f){a.news=[],a.getNews=function(){a.showLoading=!0,e.getFeeds().then(function(b){a.news=b,f.trackEvent("News feed fetched")},function(a){alert(a)})},a.init=function(){a.getNews(),b.$emit("featured",!1)}()}function pastReleasesController(a,b,c,d){a.releases=[],a.showmsg=!1,a.showerror=!1,a.getPastReleases=function(){a.showLoading=!0,a.releases=c.request("pastReleaseDates")},a.init=function(){a.getPastReleases(),b.$on("pastReleaseDates",function(b,c){a.releases=c,a.showLoading=!1,d.trackEvent("Past releases fetched")}),b.$emit("featured",!0)}()}function pastRestocksController(a,b,c,d,e){a.restocks=[],a.getPastRestocks=function(){a.showLoading=!0,a.past_restocks=d.request("getAvailabilityHistory")},a.init=function(){a.getPastRestocks(),b.$on("getAvailabilityHistory",function(b,c){a.past_restocks=c,a.showLoading=!1,e.trackEvent("Past restocks fetched")}),b.$emit("featured",!0)}()}function releasesController(a,b,c,d,e,f){a.releases=[],a.showmsg=!1,a.showerror=!1,a.errorMessage="",a.buyProduct=function(a){window.open(a.link,"_blank","location=yes"),f.trackEvent("Featured product click")},a.details=function(a){localStorage.setItem("product_details",JSON.stringify(a)),d.path("/details")},a.sneakerRating=function(a,b){var c=localStorage.getItem("member_id");"yes"==b&&parseInt(a.yes_percentage)<98&&(a.yes_percentage=parseInt(a.yes_percentage)+parseInt(3.2)),"no"==b&&parseInt(a.no_percentage)<98&&(a.no_percentage=parseInt(a.no_percentage)+parseInt(3.2));var d="member_id="+c;d+="&product.id="+a.id,d+="&status="+b,e.sneakerRating(d).then(function(){},function(a){window.console.log(a)})},a.getReleases=function(){a.showLoading=!0,e.getReleases().then(function(b){a.releases=b},function(a){alert(a)})},a.filterReleases=function(a){return a.showBuyLink=!1,a.link.length>2&&(a.showBuyLink=!0),a},a.addReminder=function(b){return member_id=localStorage.getItem("member_id"),"false"==member_id||0==member_id||null==member_id?(a.showerror=!0,void(a.errorMessage="You must be logged for reminders")):(a.showerror=!0,a.errorMessage="Reminder added for "+b.name,void e.addReminder(b,member_id).then(function(){a.showmsg=!0,a.sneakerName=b.name,window.plugins.toast.show("Reminder added for "+b.name,"short","center",function(){f.trackEvent("Sneaker release reminder added")},function(a){alert("toast error: "+a)})},function(a){alert(a)}))},a.init=function(){a.getReleases(),b.$emit("featured",!0),alert("loaded!!!!")}()}function restocksController(a,b,c,d){a.restocks=[],a.showmsg=!1,a.showerror=!1,a.errorMessage="",a.getRestocks=function(){a.showLoading=!0,c.getRestocks()},a.addReminder=function(b){return member_id=localStorage.getItem("member_id"),"false"==member_id||0==member_id||null==member_id?($("html, body").animate({scrollTop:0},"slow"),a.showerror=!0,void(a.errorMessage="You must be logged for watching restocks")):void c.addAlert(b,member_id).then(function(c){"limit"==c.status?($("html, body").animate({scrollTop:0},"slow"),a.showmsg=!1,a.showerror=!0,a.errorMessage="Free accounts can only watch 6 restocks. Please purchase SoleInsider Premium in the app store for unlimited Watching",$("html, body").animate({scrollTop:0},"slow")):(a.showmsg=!0,a.success_message="You are now watching "+b.name,a.showerror=!1,$().toastmessage("showSuccessToast","You are now watching "+b.name),d.trackEvent("Sneaker restock reminder added"))},function(a){alert(a)})},a.init=function(){a.getRestocks(),b.$on("productsChecks",function(b,c){a.restocks=c,a.showLoading=!1,d.trackEvent("Sneaker restocks fetched")}),b.$emit("featured",!1)}()}function salesController(a,b,c,d){a.products=[],a.buyProduct=function(a){window.open(a.link,"_blank","location=yes")},a.getSales=function(){c.getSales()},a.formatPrice=function(a){return a.price=parseFloat(a.price).toFixed(2),a},a.init=function(){a.getSales(),b.$on("getSales",function(b,c){a.sales=c,d.trackEvent("Sales items fetched")}),b.$emit("featured",!0)}()}function storeController(a,b,c,d){function e(a,b){return a.name==b.name?0:a.name>b.name?1:-1}a.app_name=app_name,a.page_title=page_title,a.products=[],a.category="Best Sellers",a.page=10,a.searchStr="nike",a.buyProduct=function(a){window.open(a.clickUrl,"_blank","location=yes")},a.getMenu=function(){c.getMenu().then(function(b){b.sort(e),a.menu=b},function(a){window.console.log(a)})},a.getDefaultItems=function(){c.getDefaultItems().then(function(b){a.products=b,a.showLoading=!1,d.trackEvent("Get default sneaker store items")},function(a){window.console.log(a)})},a.getCache=function(b){var c=localStorage.getItem(b);return"string"==typeof c||void 0==typeof c?(a.showLoading=!1,JSON.parse(c)):!1},a.setCache=function(a,b){localStorage.setItem(a,JSON.stringify(b))},a.search=function(b){a.showLoading=!0,a.page=10,a.searchStr=b,a.category=a.searchStr.replace("_"," ");var c=a.getCache(b);c!==!1?(a.products=c,$("#content-container").toggleClass("active"),$("#sidemenu").toggleClass("active"),setTimeout(function(){$("#sidemenu-container").toggleClass("active")},500),a.showLoading=!1):a.completeSearch(b)},a.completeSearch=function(b){$("#content-container").toggleClass("active"),$("#sidemenu").toggleClass("active"),setTimeout(function(){$("#sidemenu-container").toggleClass("active")},500),c.search(b).then(function(c){a.products=c,a.setCache(b,c),a.showLoading=!1,d.trackEvent("Get new sneaker store products from menu")},function(a){window.console.log(a)})},a.paginate=function(){$("html, body").animate({scrollTop:0},10),a.showLoading=!0,a.page=a.page+20;var b="search="+a.searchStr;b+="&offset="+a.page,c.paginate(b).then(function(b){a.products=b,a.showLoading=!1,d.trackEvent("Sneaker store pagination")},function(a){window.console.log(a)})},a.init=function(){a.getMenu(),a.getDefaultItems(),b.$emit("featured",!0)}()}function storeFinderController(a,b,c){a.stores=!1,a.search="",a.storeSearch=function(b){var d="zipcode="+b;c.search(d).then(function(b){if(0==b.length||b.hasOwnProperty("error"))a.stores=[];else{for(var c=[],d=0;d<b.businesses.length;d++)b.businesses[d].image_url&&(c.push(b.businesses[d]),console.log(b.businesses[d]));a.stores=c}},function(a){alert(a)})},a.init=function(){b.$emit("featured",!1)}()}function twitterWatcherController(a,b,c){a.showConfirmation=!1,a.member_id=localStorage.getItem("member_id"),a.twitterAccounts=function(){c.getTwitterAccounts().then(function(b){a.accounts=b},function(a){alert(a)})},a.getMemberTwitterWatching=function(){var b="member_id="+a.member_id;c.getMemberTwitterWatching(b).then(function(b){a.watching=b},function(a){alert(a)})},a.addToWatch=function(b){if("false"==a.member_id||0==a.member_id||null==a.member_id)return a.showerror=!0,void(a.errorMessage="You must be logged for this feature");var d="member_id="+localStorage.getItem("member_id");d+="&feed_id="+b.id,c.addToWatch(d).then(function(){a.showConfirmation=!0,a.getMemberTwitterWatching()},function(a){alert(a)})},a.removeFromWatch=function(b){var d="member_id="+localStorage.getItem("member_id");d+="&feed_id="+b.id,c.removeFromWatch(d).then(function(){a.showConfirmation=!0,a.getMemberTwitterWatching()},function(a){alert(a)})},a.init=function(){a.twitterAccounts(),a.getMemberTwitterWatching(),b.$emit("featured",!1)}()}var url=window.location.href;if(-1!=url.indexOf("localhost"))var serviceURL="http://localhost/sole-web/public";else var serviceURL="http://soleinsider.com/public";var admin_url="app/",app_name="SoleInsider Free",page_title="SoleInsider Free",soleinsider={};soleinsider.base_url=serviceURL,soleinsider.username="",soleinsider.member_id="",soleinsider.cache=!1,soleinsider.show_featured=!0,soleinsider.version="4.6",soleinsider.version_type="free",soleinsider.member_type="free",soleinsider.build="android",soleinsider.showads="free"==soleinsider.version_type?!1:!1,accountController.$inject=["$scope","$rootScope","account_service","mixpanel_service"],appController.$inject=["$scope","$rootScope","app_service","mixpanel_service"],availController.$inject=["$scope","$rootScope","sales_service","cache_service","mixpanel_service"];var soleinsiderApp=angular.module("soleinsiderApp",[]);soleinsiderApp.config(["$httpProvider",function(a){a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"}]),couponsController.$inject=["$scope","$rootScope","cache_service","mixpanel_service"],detailsController.$inject=["$scope","$rootScope","comments_service","release_service","mixpanel_service"],instagramController.$inject=["$scope","$rootScope","instagram_service","mixpanel_service"],loginController.$inject=["$scope","$rootScope","login_service","mixpanel_service"],myReleasesController.$inject=["$scope","$rootScope","release_service","mixpanel_service"],myRestocksController.$inject=["$scope","$rootScope","restock_service","mixpanel_service"],newsController.$inject=["$scope","$rootScope","news_service","mixpanel_service"],pastReleasesController.$inject=["$scope","$rootScope","release_service","mixpanel_service"],pastReleasesController.$inject=["$scope","$rootScope","release_service","mixpanel_service"],pastRestocksController.$inject=["$scope","$rootScope","restock_service","mixpanel_service"],releasesController.$inject=["$scope","$rootScope","$filter","$location","release_service","mixpanel_service"],restocksController.$inject=["$scope","$rootScope","restock_service","mixpanel_service"],salesController.$inject=["$scope","$rootScope","sales_service","mixpanel_service"];var soleinsiderApp=angular.module("soleinsiderApp",[]);soleinsiderApp.config(["$httpProvider",function(a){a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"}]),storeController.$inject=["$scope","$rootScope","store_service","mixpanel_service"],storeFinderController.$inject=["$scope","$rootScope","store_finder_service","mixpanel_service"],twitterWatcherController.$inject=["$scope","$rootScope","twitter_service","mixpanel_service"],soleinsiderApp.factory("account_service",["$rootScope","$q","$http",function(a,b,c){var d=serviceURL;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.getAccount=function(a){return self.makePost("/mobile/accountInfo",a)},self.updateAccount=function(a){return self.makePost("/mobile/updateAccount",a)},{getAccount:function(a){return self.getAccount(a)},updateAccount:function(a){return self.updateAccount(a)}}}]),soleinsiderApp.factory("app_service",["$rootScope","$q","$http",function(a,b,c){var d=serviceURL;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.getMessages=function(){return self.makePost("/mobile/getMessages")},self.getAds=function(){return self.makePost("/mobile/getAds")},self.getFeaturedProducts=function(){return self.makePost("/mobile/getFeaturedShopify")},{getMessages:function(){return self.getMessages()},getAds:function(){return self.getAds()},getFeaturedProducts:function(){return self.getFeaturedProducts()}}}]),soleinsiderApp.factory("cache_service",["$rootScope","$q","$http",function(a,b,c){var d=soleinsider.base_url;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.request=function(b){url="/mobile/"+b,self.makePost(url).then(function(c){return self.setCache(b,c),a.$broadcast(b,c),c},function(a){alert(a)})},self.getCache=function(b){var c=localStorage.getItem(b);return"string"==typeof c||void 0==typeof c?(data=JSON.parse(c),a.$broadcast(b,data),data):(url="/mobile/"+b,void self.makePost(url).then(function(c){return self.setCache(b,c),a.$broadcast(b,c),c},function(a){alert(a)}))},self.setCache=function(a,b){localStorage.setItem(a,JSON.stringify(b))},self.closePanel=function(){$("#content-container").toggleClass("active"),$("#sidemenu").toggleClass("active"),setTimeout(function(){$("#sidemenu-container").toggleClass("active")},500)},{request:function(a,b){return 1==soleinsider.cache?self.getCache(a,b):self.request(a,b)},closePanel:function(){return self.closePanel()}}}]),soleinsiderApp.factory("clothing_store_service",["$rootScope","$q","$http",function(a,b,c){var d=serviceURL;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.getMenu=function(){return self.makePost("/clothing/getMenu")},self.search=function(a){var b="search="+a;return self.makePost("/clothing/search",b)},self.paginate=function(a){return self.makePost("/clothing/paginate",a)},self.getDefaultItems=function(){return self.makePost("/clothing/getDefaultItems","")},{getMenu:function(){return self.getMenu()},search:function(a){return self.search(a)},getDefaultItems:function(){return self.getDefaultItems()},paginate:function(a){return self.paginate(a)}}}]),soleinsiderApp.factory("comments_service",["util_service","$rootScope","$q","$http",function(a,b,c,d){var e=soleinsider.base_url;return self.makePost=function(a,b){if(b=b?b:{},!a)return void window.alert("Could not connect, please check your internet connection");var f=c.defer();return d.post(e+a,b).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+b)}),f.promise},self.getComments=function(a){return self.makePost("/mobile/getComments",a)},self.leaveComment=function(a){return self.makePost("/mobile/leaveComment",a)},{leaveComment:function(a){return self.leaveComment(a)},getComments:function(a){return self.getComments(a)}}}]),soleinsiderApp.factory("instagram_service",["$rootScope","$q","$http",function(a,b,c){var d=soleinsider.base_url;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.getInstagramImages=function(){return self.makePost("/mobile/instagram")},{getImages:function(){return self.getInstagramImages()}}}]),soleinsiderApp.factory("login_service",["$rootScope","$q","$http",function(a,b,c){var d=soleinsider.base_url;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.login=function(a){return self.makePost("/mobile/login",a)},self.createAccount=function(a){return self.makePost("/mobile/createAccount",a)},{init:function(){},login:function(a){return self.login(a)},createAccount:function(a){return self.createAccount(a)}}}]),soleinsiderApp.factory("mixpanel_service",["$rootScope",function(){var a=this;return a.trackEvent=function(a){mixpanel.track("Mobile App: "+a)},{trackEvent:function(b){return a.trackEvent(b)}}}]),soleinsiderApp.factory("news_service",["$rootScope","$q","$http",function(a,b,c){var d=soleinsider.base_url;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.getFeeds=function(){return self.makePost("/mobile/rssFeeds")},{getFeeds:function(){return self.getFeeds()}}}]),soleinsiderApp.factory("release_service",["util_service","$rootScope","$q","$http",function(a,b,c,d){var e=soleinsider.base_url;return self.makePost=function(a,b){if(b=b?b:{},!a)return void window.alert("Could not connect, please check your internet connection");var f=c.defer();return d.post(e+a,b).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+b)}),f.promise},self.getReleases=function(){return self.makePost("/mobile/releaseDatesFormatted")},self.getPastReleases=function(){return self.makePost("/mobile/pastReleaseDates").then(function(a){b.$broadcast("getPastReleases",a)},function(a){alert(a)})},self.addReminder=function(a,b){var c="product_id="+a.id;return c+="&member_id="+b,self.makePost("/mobile/addReleaseAlert",c)},self.getMyReleases=function(){var a="member_id="+localStorage.getItem("member_id");return self.makePost("/mobile/getMyReleases",a).then(function(a){b.$broadcast("getMyReleases",a)},function(a){alert(a)})},self.sneakerRating=function(a){return self.makePost("/mobile/coporNot",a)},self.deleteRelease=function(a){member_id=localStorage.getItem("member_id");var c="product_id="+a.id;return c+="&member_id="+member_id,self.makePost("/mobile/deleteRelease",c).then(function(a){b.$broadcast("deleteRelease",a)},function(a){alert(a)})},self.getSlideShow=function(a){return self.makePost("/mobile/getSlideShow",a)},self.getRelatedItems=function(a){var c="product_name="+a;return self.makePost("/mobile/getRelatedItems",c).then(function(a){b.$broadcast("getRelatedItems",a)},function(a){alert(a)})},self.getRelatedItems=function(a,b){var c="keywords="+a;return c+="&product_id="+b,self.makePost("/ebay/getRelatedProducts",c)},{getPastReleases:function(){return self.getPastReleases()},getReleases:function(){return self.getReleases()},addAlert:function(a){return self.addAlert(a)},addReminder:function(a,b){return self.addReminder(a,b)},getMyReleases:function(){return self.getMyReleases()},sneakerRating:function(a){return self.sneakerRating(a)},deleteRelease:function(a){return self.deleteRelease(a)},getSlideShow:function(a){return self.getSlideShow(a)},getRelatedItems:function(a,b){return self.getRelatedItems(a,b)}}}]),soleinsiderApp.factory("restock_service",["util_service","$rootScope","$q","$http",function(a,b,c,d){var e=soleinsider.base_url;return self.makePost=function(a,b){if(b=b?b:{},!a)return void window.alert("Could not connect to database");var f=c.defer();return d.post(e+a,b).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+b)}),f.promise},self.getMyRestocks=function(){var a="member_id="+localStorage.getItem("member_id");return self.makePost("/mobile/getMyRestocks",a).then(function(a){b.$broadcast("getMyRestocks",a)},function(a){alert(a)})},self.getPastRestocks=function(){return self.makePost("/mobile/getAvailabilityHistory").then(function(a){b.$broadcast("getPastRestocks",a)},function(a){alert(a)})},self.getRestocks=function(){return self.makePost("/mobile/productsChecks").then(function(a){b.$broadcast("getRestocks",a)},function(a){alert(a)})},self.addAlert=function(a){member_id=localStorage.getItem("member_id");var b="product_id="+a.id;return b+="&member_id="+member_id,self.makePost("/mobile/addRestockAlert",b)},self.deleteRestock=function(a){member_id=localStorage.getItem("member_id");var c="product_id="+a.id;return c+="&member_id="+member_id,self.makePost("/mobile/deleteRestock",c).then(function(a){b.$broadcast("deleteRestock",a)},function(a){alert(a)})},{getRestocks:function(){return self.getRestocks()},getPastRestocks:function(){return self.getPastRestocks()},addAlert:function(a){return self.addAlert(a)},getMyRestocks:function(){return self.getMyRestocks()},deleteRestock:function(a){return self.deleteRestock(a)}}}]),soleinsiderApp.factory("sales_service",["$rootScope","$q","$http",function(a,b,c){var d=soleinsider.base_url;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.getSales=function(){return self.makePost("/mobile/getSales").then(function(b){a.$broadcast("getSales",b)},function(a){alert(a)})},self.getStillAvail=function(){return self.makePost("/mobile/getStillAvail").then(function(b){a.$broadcast("getStillAvail",b)},function(a){alert(a)})},{init:function(){},getSales:function(){return self.getSales()},getStillAvail:function(){return self.getStillAvail()}}}]),soleinsiderApp.factory("store_finder_service",["$rootScope","$q","$http",function(a,b,c){var d=soleinsider.base_url;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.search=function(a){return self.makePost("/mobile/storeLocationSearch",a)},{search:function(a){return self.search(a)}}}]),soleinsiderApp.factory("store_service",["$rootScope","$q","$http",function(a,b,c){var d=serviceURL;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.getMenu=function(){return self.makePost("/store/getMenu")},self.search=function(a){var b="search="+a;
return self.makePost("/store/search",b)},self.paginate=function(a){return self.makePost("/store/paginate",a)},self.getDefaultItems=function(){return self.makePost("/store/getDefaultItems","")},{getMenu:function(){return self.getMenu()},search:function(a){return self.search(a)},getDefaultItems:function(){return self.getDefaultItems()},paginate:function(a){return self.paginate(a)}}}]),soleinsiderApp.factory("twitter_service",["$rootScope","$q","$http",function(a,b,c){var d=soleinsider.base_url;return self.makePost=function(a,e){if(e=e?e:{},!a)return void window.alert("Could not connect to database");var f=b.defer();return c.post(d+a,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},self.getTwitterAccounts=function(){return self.makePost("/mobile/getTwitterFeeds")},self.getMemberTwitterWatching=function(a){return self.makePost("/mobile/getMemberTwitterWatching",a)},self.addToWatch=function(a){return self.makePost("/mobile/watchTwitterAccount",a)},self.removeFromWatch=function(a){return self.makePost("/mobile/removeMemberTwitterWatching",a)},{init:function(){},getTwitterAccounts:function(){return self.getTwitterAccounts()},getMemberTwitterWatching:function(a){return self.getMemberTwitterWatching(a)},addToWatch:function(a){return self.addToWatch(a)},removeFromWatch:function(a){return self.removeFromWatch(a)}}}]),soleinsiderApp.factory("util_service",["$http","$q",function(a,b){var c=soleinsider.base_url;return self.request=function(d,e){if(e=e?e:{},!d)return void window.alert("bad endpoint");var f=b.defer();return a.post(c+d,e).success(function(a){a?("false"==a&&(a=[]),f.resolve(a)):f.reject("Data was rejected: "+e)}),f.promise},{request:function(a,b){return self.request(a,b)}}}]);